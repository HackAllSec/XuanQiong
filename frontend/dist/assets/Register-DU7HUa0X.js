import{d as R,u as $,r as p,c as D,b as o,w as m,i as r,g as F,h,z as j,a3 as G,e as V,a4 as L,j as k,k as v,t as b,a5 as M,a6 as S,A as T,C as l,f as z,F as q,G as H,a7 as J,x as K,_ as O}from"./index-JDjDOS_H.js";/* empty css                *//* empty css                *//* empty css                     *//* empty css                 *//* empty css                   */const P={class:"register-container"},Q={style:{display:"flex","align-items":"center"}},W={class:"register-option"},X=R({__name:"Register",setup(Y){const{t:e}=$(),c=p(""),f=p(""),s=p(""),n=p(""),i=p(""),w=p(""),g=p(!0),x=p(0);function B(){c.value==""&&l.error(e("app.webui.loginerr1"))}function C(){if(i.value==""){l.error(e("app.webui.emailempty"));return}if(!i.value.match(/^[a-zA-Z0-9_-]+@[a-zA-Z0-9_-]+(\.[a-zA-Z0-9_-]+)+$/)){l.error(e("app.webui.emailformat"));return}}function _(){return s.value==""?(l.error(e("app.webui.passwordempty")),!1):s.value.length<8?(l.error(e("app.webui.passwordlength")),!1):s.value.match(/^(?=.*[a-z])(?=.*[A-Z])(?=.*\d)[^]{8,}$/)?!0:(l.error(e("app.webui.passwordcomplex")),!1)}function E(){if(s.value!=n.value){l.error(e("app.webui.passwordnotmatch"));return}}async function U(){if(i.value==""){l.error(e("app.webui.emailempty"));return}try{(await z.get("/api/v1/getcaptcha?email="+i.value)).data.code==1?(l.success(e("app.webui.captchasucc")),x.value=Date.now()+1e3*120,g.value=!1):l.error(e("app.webui.captchafail"))}catch{}}async function A(){if(c.value==""||s.value==""||n.value==""||i.value==""){l.error(e("app.webui.missingnotice"));return}if(s.value!=n.value){l.error(e("app.webui.passwordnotmatch"));return}if(_())try{const d={username:c.value,phone:f.value,password:n.value,email:i.value,captcha:w.value},a=await z.post("/api/v1/register",d);a.data.code==0?l.error(e("app.webui.registernotice")):a.data.code==1?l.success(e("app.webui.registersuccess")):a.data.code==2?l.error(e("app.webui.usernamealreadyexist")):a.data.code==4?l.error(e("app.webui.emailformat")):a.data.code==5?l.error(e("app.webui.emailalreadyexist")):a.data.code==6?l.error(e("app.webui.captchaerr")):l.error(e("app.webui.registerfail"))}catch{l.error(e("app.webui.registerfail"))}}return(d,a)=>{const u=q,y=H,Z=J,I=K,N=F;return h(),D("div",P,[o(N,{class:"register-card",header:r(e)("app.webui.register"),shadow:"always"},{default:m(()=>[o(u,{style:{width:"75%","margin-left":"10%",padding:"15px"},modelValue:c.value,"onUpdate:modelValue":a[0]||(a[0]=t=>c.value=t),maxlength:"50",placeholder:r(e)("app.webui.username"),size:"large","prefix-icon":r(j),clearable:"",onBlur:B},null,8,["modelValue","placeholder","prefix-icon"]),o(u,{style:{width:"75%","margin-left":"10%",padding:"15px"},modelValue:f.value,"onUpdate:modelValue":a[1]||(a[1]=t=>f.value=t),maxlength:"50",placeholder:r(e)("app.webui.phone"),size:"large","prefix-icon":r(G),clearable:""},null,8,["modelValue","placeholder","prefix-icon"]),V("div",Q,[o(u,{style:{width:"75%","margin-left":"10%",padding:"15px"},modelValue:i.value,"onUpdate:modelValue":a[2]||(a[2]=t=>i.value=t),maxlength:"50",placeholder:r(e)("app.webui.email"),size:"large","prefix-icon":r(L),clearable:"",onBlur:C},null,8,["modelValue","placeholder","prefix-icon"]),g.value?(h(),k(y,{key:0,style:{width:"15%"},type:"primary",size:"small",onClick:U},{default:m(()=>[v(b(r(e)("app.webui.getcaptcha")),1)]),_:1})):(h(),k(Z,{key:1,format:"ss",value:x.value,onFinish:a[3]||(a[3]=t=>g.value=!0),"value-style":"font-size: 14px;"},null,8,["value"]))]),o(u,{style:{width:"75%","margin-left":"10%",padding:"15px"},modelValue:w.value,"onUpdate:modelValue":a[4]||(a[4]=t=>w.value=t),maxlength:"50",placeholder:r(e)("app.webui.captcha"),size:"large","prefix-icon":r(M),clearable:""},null,8,["modelValue","placeholder","prefix-icon"]),o(u,{style:{width:"75%","margin-left":"10%",padding:"15px"},modelValue:s.value,"onUpdate:modelValue":a[5]||(a[5]=t=>s.value=t),maxlength:"50",type:"password","show-password":"",placeholder:r(e)("app.webui.password"),size:"large","prefix-icon":r(S),clearable:"",onBlur:_},null,8,["modelValue","placeholder","prefix-icon"]),o(u,{style:{width:"75%","margin-left":"10%",padding:"15px"},modelValue:n.value,"onUpdate:modelValue":a[6]||(a[6]=t=>n.value=t),maxlength:"50",type:"password","show-password":"",placeholder:r(e)("app.webui.confirmpassword"),size:"large","prefix-icon":r(T),clearable:"",onBlur:E},null,8,["modelValue","placeholder","prefix-icon"]),V("div",W,[o(I,{href:"#/login"},{default:m(()=>[v(b(r(e)("app.webui.returnlogin")),1)]),_:1})]),o(y,{type:"success",size:"large",style:{width:"60%",margin:"2% 20%","margin-bottom":"20px","font-weight":"bold","font-size":"16px"},onClick:A,"auto-insert-space":""},{default:m(()=>[v(b(r(e)("app.webui.register")),1)]),_:1})]),_:1},8,["header"])])}}}),se=O(X,[["__scopeId","data-v-dace5a24"]]);export{se as default};
