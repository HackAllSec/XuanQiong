import{d as y,u as z,r as c,c as B,b as t,w as m,i as l,g as E,h as A,z as C,a3 as U,a4 as Z,A as I,e as N,k as w,t as g,C as a,f as R,F as $,x as D,G as F,_ as G}from"./index-BZXfLavj.js";/* empty css                *//* empty css                *//* empty css                 *//* empty css                   */const L={class:"register-container"},M={class:"register-option"},S=y({__name:"Register",setup(T){const{t:e}=z(),n=c(""),o=c(""),i=c(""),p=c("");function b(){n.value==""&&a.error(e("app.webui.loginerr1"))}function _(){if(p.value==""){a.error(e("app.webui.emailempty"));return}if(!p.value.match(/^[a-zA-Z0-9_-]+@[a-zA-Z0-9_-]+(\.[a-zA-Z0-9_-]+)+$/)){a.error(e("app.webui.emailformat"));return}}function f(){return o.value==""?(a.error(e("app.webui.passwordempty")),!1):o.value.length<8?(a.error(e("app.webui.passwordlength")),!1):o.value.match(/^(?=.*[a-z])(?=.*[A-Z])(?=.*\d)[^]{8,}$/)?!0:(a.error(e("app.webui.passwordcomplex")),!1)}function v(){if(o.value!=i.value){a.error(e("app.webui.passwordnotmatch"));return}}async function h(){if(n.value==""||o.value==""||i.value==""||p.value==""){a.error(e("app.webui.missingnotice"));return}if(o.value!=i.value){a.error(e("app.webui.passwordnotmatch"));return}if(f())try{const d={username:n.value,password:i.value,email:p.value},r=await R.post("/api/v1/register",d);r.data.code==0?a.error(e("app.webui.registernotice")):r.data.code==1?a.success(e("app.webui.registersuccess")):r.data.code==2?a.error(e("app.webui.usernamealreadyexist")):r.data.code==4?a.error(e("app.webui.emailformat")):r.data.code==5?a.error(e("app.webui.emailalreadyexist")):a.error(e("app.webui.registerfail"))}catch{a.error(e("app.webui.registerfail"))}}return(d,r)=>{const u=$,x=D,V=F,k=E;return A(),B("div",L,[t(k,{class:"register-card",header:l(e)("app.webui.register"),shadow:"always"},{default:m(()=>[t(u,{modelValue:n.value,"onUpdate:modelValue":r[0]||(r[0]=s=>n.value=s),maxlength:"50",placeholder:l(e)("app.webui.username"),size:"large","prefix-icon":l(C),clearable:"",onBlur:b},null,8,["modelValue","placeholder","prefix-icon"]),t(u,{modelValue:p.value,"onUpdate:modelValue":r[1]||(r[1]=s=>p.value=s),maxlength:"50",placeholder:l(e)("app.webui.email"),size:"large","prefix-icon":l(U),clearable:"",onBlur:_},null,8,["modelValue","placeholder","prefix-icon"]),t(u,{modelValue:o.value,"onUpdate:modelValue":r[2]||(r[2]=s=>o.value=s),maxlength:"50",type:"password","show-password":"",placeholder:l(e)("app.webui.password"),size:"large","prefix-icon":l(Z),clearable:"",onBlur:f},null,8,["modelValue","placeholder","prefix-icon"]),t(u,{modelValue:i.value,"onUpdate:modelValue":r[3]||(r[3]=s=>i.value=s),maxlength:"50",type:"password","show-password":"",placeholder:l(e)("app.webui.confirmpassword"),size:"large","prefix-icon":l(I),clearable:"",onBlur:v},null,8,["modelValue","placeholder","prefix-icon"]),N("div",M,[t(x,{href:"#/login"},{default:m(()=>[w(g(l(e)("app.webui.returnlogin")),1)]),_:1})]),t(V,{type:"success",size:"large",style:{width:"60%",margin:"2% 20%","margin-bottom":"20px","font-weight":"bold","font-size":"16px"},onClick:h,"auto-insert-space":""},{default:m(()=>[w(g(l(e)("app.webui.register")),1)]),_:1})]),_:1},8,["header"])])}}}),O=G(S,[["__scopeId","data-v-1f8c6322"]]);export{O as default};
